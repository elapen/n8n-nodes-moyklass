# Release Notes v1.2.0/1.2.1

## üî• –ö–†–ò–¢–ò–ß–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è!

### ‚ö†Ô∏è –ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫?

–í –≤–µ—Ä—Å–∏—è—Ö 1.0.0 - 1.1.1 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-api-key` –Ω–∞–ø—Ä—è–º—É—é
- API MoyKlass —Ç–∞–∫–æ–π –º–µ—Ç–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏!** ‚ùå

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ?

–¢–µ–ø–µ—Ä—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø—Ä–∞–≤–∏–ª—å–Ω–æ** —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ MoyKlass API:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**: –°–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `/v1/company/auth/getToken` —Å API key
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**: –ü–æ–ª—É—á–µ–Ω–Ω—ã–π `accessToken` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `x-access-token`
3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢–æ–∫–µ–Ω –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 6 –¥–Ω–µ–π (–∂–∏–≤–µ—Ç 7 –¥–Ω–µ–π –ø–æ API)
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ù–æ–≤—ã–π —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏

## üîê –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ API Key
```
CRM MoyKlass ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API ‚Üí –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ n8n
1. –°–æ–∑–¥–∞–π—Ç–µ credential "MoyKlass API"
2. –í—Å—Ç–∞–≤—å—Ç–µ API Key (–Ω–∞–ø—Ä–∏–º–µ—Ä: `Oul76YVXXQnH3YWWidkDaHyoUBGHCOyOO0oky7y6T1EJBAWnEi`)
3. –ù–∞–∂–º–∏—Ç–µ "Test" - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ‚úÖ

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ workflows!

## üÜï –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å–∏–∏ 1.2.0

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ POST `/v1/company/auth/getToken` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ `x-access-token` –≤–º–µ—Å—Ç–æ `x-api-key`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤

### –ù–æ–≤—ã–π TokenHelper
–°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `helpers/TokenHelper.ts`:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏

### –£–ª—É—á—à–µ–Ω–Ω—ã–π Test –¥–ª—è Credentials
–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –Ω–∞ `/v1/company/auth/getToken`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å API Key
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```typescript
// 1. –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω
POST https://api.moyklass.com/v1/company/auth/getToken
Body: { "apiKey": "–≤–∞—à_–∫–ª—é—á" }

// –û—Ç–≤–µ—Ç:
{
  "accessToken": "eyJhbGc...",
  "expiresAt": "2024-10-28T18:00:00Z",
  "level": "company"
}

// 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–∫–µ–Ω –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
GET https://api.moyklass.com/v1/company/users
Headers: { "x-access-token": "eyJhbGc..." }
```

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

- –¢–æ–∫–µ–Ω—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: 6 –¥–Ω–µ–π (–∏–∑ 7 –≤–æ–∑–º–æ–∂–Ω—ã—Ö)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
- –ö–µ—à –ø–æ –∫–ª—é—á—É: `${apiKey}_${baseUrl}`

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API

–°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ MoyKlass:
- **–ú–∞–∫—Å–∏–º—É–º 7 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É**
- –¢–æ–∫–µ–Ω –∂–∏–≤–µ—Ç 7 –¥–Ω–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–¥–∞–ª—è—Ç—å —Ç–æ–∫–µ–Ω –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è —Å 1.1.x

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!

1. **–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ credentials**
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ credentials** —Å —Ç–µ–º –∂–µ API Key
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** (–¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ)
4. **–û–±–Ω–æ–≤–∏—Ç–µ –≤—Å–µ workflows** –Ω–∞ –Ω–æ–≤—ã–µ credentials

### –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å credentials?

–ò–∑–º–µ–Ω–∏–ª—Å—è –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –°—Ç–∞—Ä—ã–µ credentials –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –∏ **–Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**.

## üìù –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- TokenHelper –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞–º–∏
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–æ
- **–ö–†–ò–¢–ò–ß–ù–û**: –ú–µ—Ç–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Å `x-api-key` –Ω–∞ `x-access-token`)
- Credentials —É–ø—Ä–æ—â–µ–Ω—ã (—Ç–æ–ª—å–∫–æ —Ö—Ä–∞–Ω—è—Ç API Key)
- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–∫–µ–Ω
- Placeholder –≤ credentials —Å –ø—Ä–∏–º–µ—Ä–æ–º –∫–ª—é—á–∞

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚ùå ‚Üí ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç!
- ‚ùå ‚Üí ‚úÖ –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç!
- ‚ùå ‚Üí ‚úÖ –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥—è—Ç!

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã v1.0.0 - v1.1.1

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–µ—Ä—Å–∏–∏ 1.0.0 - 1.1.1:
- ‚ùå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ **–ù–ï –†–ê–ë–û–¢–ê–ï–¢**
- ‚ùå –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401 Unauthorized
- ‚ùå –¢–µ—Å—Ç credentials –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç–µ—Å—å –¥–æ –≤–µ—Ä—Å–∏–∏ 1.2.1!

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
npm install n8n-nodes-moyklass@latest

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è
npm install n8n-nodes-moyklass@1.2.1
```

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –í–µ—Ä—Å–∏—è 1.3.0 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- Retry –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ rate limiting (7 req/sec)
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Websockets support (–µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ API)

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [MoyKlass API Docs](https://api.moyklass.com/v1/docs)
- [–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ API](https://api.moyklass.com/v1/docs#auth)
- [GitHub Repository](https://github.com/elapen/n8n-nodes-moyklass)
- [NPM Package](https://www.npmjs.com/package/n8n-nodes-moyklass)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π! –ë–µ–∑ –≤–∞—à–µ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ —ç—Ç–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ –º–æ–≥–ª–∞ –±—ã –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω–æ–π.

## ‚ö° –í–∞–∂–Ω–æ!

**–û–±–Ω–æ–≤–∏—Ç–µ—Å—å –Ω–∞ –≤–µ—Ä—Å–∏—é 1.2.1 –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ!**

–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏ (1.0.0 - 1.1.1) **–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç** –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

---

**–í–µ—Ä—Å–∏—è 1.2.1** - —á–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤  
**–í–µ—Ä—Å–∏—è 1.2.0** - –ø–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

